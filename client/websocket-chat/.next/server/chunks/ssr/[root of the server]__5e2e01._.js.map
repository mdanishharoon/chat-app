{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/danish/uWebSocketsApp/client/websocket-chat/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useRef } from 'react';\n\ninterface Message {\n  content: string;\n  sender: 'server' | 'client';\n  senderId?: string; // Optional senderId for broadcasted messages\n}\n\nconst Page: React.FC = () => {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState<string>('');\n  const socketRef = useRef<WebSocket | null>(null);\n\n  useEffect(() => {\n    const socket = new WebSocket('ws://localhost:9001');\n    socketRef.current = socket;\n\n    socket.onopen = () => {\n      console.log('Connected to server');\n      setMessages((prev) => [...prev, { content: 'Connected to server', sender: 'server' }]);\n    };\n\n    socket.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n\n      // If it's a broadcast message, include the sender's ID\n      if (data.type === 'broadcast') {\n        setMessages((prev) => [\n          ...prev,\n          {\n            content: `${data.senderId}: ${data.message}`, // Show sender ID\n            sender: 'server',\n            senderId: data.senderId,\n          },\n        ]);\n      } else if (data.type === 'connected') {\n        setMessages((prev) => [\n          ...prev,\n          { content: `Your ID: ${data.id}`, sender: 'server' },\n        ]);\n      }\n    };\n\n    socket.onclose = () => {\n      setMessages((prev) => [...prev, { content: 'Disconnected from server', sender: 'server' }]);\n    };\n\n    socket.onerror = (error) => {\n      setMessages((prev) => [...prev, { content: 'Error connecting to server', sender: 'server' }]);\n    };\n\n    return () => socket.close();\n  }, []);\n\n  const sendMessage = () => {\n    if (input.trim() && socketRef.current) {\n      socketRef.current.send(input.trim());\n      setMessages((prev) => [...prev, { content: input.trim(), sender: 'client' }]);\n      setInput('');\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100\">\n      <div className=\"bg-white shadow-md rounded-md w-full max-w-lg p-6\">\n        <h1 className=\"text-2xl font-bold text-center mb-4\">WebSocket Chat</h1>\n        <div className=\"overflow-y-auto border rounded-md h-64 p-4 bg-gray-50\">\n          {messages.map((msg, index) => (\n            <div\n              key={index}\n              className={`mb-2 ${msg.sender === 'client' ? 'text-right text-blue-600' : 'text-left text-green-600'}`}\n            >\n              {msg.sender === 'client' ? (\n                `You: ${msg.content}`\n              ) : (\n                <>\n                  {msg.senderId && <span className=\"font-semibold\">{msg.senderId}</span>}: {msg.content}\n                </>\n              )}\n            </div>\n          ))}\n        </div>\n        <div className=\"flex mt-4\">\n          <input\n            type=\"text\"\n            className=\"flex-1 border rounded-l-md p-2 outline-none focus:ring-2 focus:ring-blue-500\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Type a message...\"\n          />\n          <button\n            onClick={sendMessage}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded-r-md hover:bg-blue-600\"\n          >\n            Send\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Page;\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAUA,MAAM,OAAiB;IACrB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC3C,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAoB;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,SAAS,IAAI,UAAU;QAC7B,UAAU,OAAO,GAAG;QAEpB,OAAO,MAAM,GAAG;YACd,QAAQ,GAAG,CAAC;YACZ,YAAY,CAAC,OAAS;uBAAI;oBAAM;wBAAE,SAAS;wBAAuB,QAAQ;oBAAS;iBAAE;QACvF;QAEA,OAAO,SAAS,GAAG,CAAC;YAClB,MAAM,OAAO,KAAK,KAAK,CAAC,MAAM,IAAI;YAElC,uDAAuD;YACvD,IAAI,KAAK,IAAI,KAAK,aAAa;gBAC7B,YAAY,CAAC,OAAS;2BACjB;wBACH;4BACE,SAAS,GAAG,KAAK,QAAQ,CAAC,EAAE,EAAE,KAAK,OAAO,EAAE;4BAC5C,QAAQ;4BACR,UAAU,KAAK,QAAQ;wBACzB;qBACD;YACH,OAAO,IAAI,KAAK,IAAI,KAAK,aAAa;gBACpC,YAAY,CAAC,OAAS;2BACjB;wBACH;4BAAE,SAAS,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE;4BAAE,QAAQ;wBAAS;qBACpD;YACH;QACF;QAEA,OAAO,OAAO,GAAG;YACf,YAAY,CAAC,OAAS;uBAAI;oBAAM;wBAAE,SAAS;wBAA4B,QAAQ;oBAAS;iBAAE;QAC5F;QAEA,OAAO,OAAO,GAAG,CAAC;YAChB,YAAY,CAAC,OAAS;uBAAI;oBAAM;wBAAE,SAAS;wBAA8B,QAAQ;oBAAS;iBAAE;QAC9F;QAEA,OAAO,IAAM,OAAO,KAAK;IAC3B,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,IAAI,MAAM,IAAI,MAAM,UAAU,OAAO,EAAE;YACrC,UAAU,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI;YACjC,YAAY,CAAC,OAAS;uBAAI;oBAAM;wBAAE,SAAS,MAAM,IAAI;wBAAI,QAAQ;oBAAS;iBAAE;YAC5E,SAAS;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAsC;;;;;;8BACpD,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,KAAK,sBAClB,8OAAC;4BAEC,WAAW,CAAC,KAAK,EAAE,IAAI,MAAM,KAAK,WAAW,6BAA6B,4BAA4B;sCAErG,IAAI,MAAM,KAAK,WACd,CAAC,KAAK,EAAE,IAAI,OAAO,EAAE,iBAErB;;oCACG,IAAI,QAAQ,kBAAI,8OAAC;wCAAK,WAAU;kDAAiB,IAAI,QAAQ;;;;;;oCAAS;oCAAG,IAAI,OAAO;;;2BAPpF;;;;;;;;;;8BAaX,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,WAAU;4BACV,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,aAAY;;;;;;sCAEd,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;uCAEe"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/danish/uWebSocketsApp/client/websocket-chat/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///home/danish/uWebSocketsApp/client/websocket-chat/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///home/danish/uWebSocketsApp/client/websocket-chat/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}